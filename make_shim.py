# make_shim.py\n# Utility to create a shim package that forwards an old name to a new package.\n# Usage: python make_shim.py <old_name> <new_target>\n\nimport sys\nfrom pathlib import Path\n\ndef create_shim(old_name: str, new_target: str) -> None:\n    shim_dir = Path(old_name)\n    shim_dir.mkdir(parents=True, exist_ok=True)\n    shim_path = shim_dir / "__init__.py"\n    shim_code = f'''# Auto‑generated shim – maps `{old_name}` → `{new_target}`\nfrom importlib import import_module as _import_module\n\n# Dynamically import the real package\n_real_pkg = _import_module("{new_target}")\n\n# Re‑export all public symbols (skip private ones)\nglobals().update({{name: getattr(_real_pkg, name) for name in dir(_real_pkg) if not name.startswith("_")}})\n'''\n    shim_path.write_text(shim_code, encoding="utf-8")\n    print(f"Shim package created at {shim_path}")\n\nif __name__ == "__main__":\n    if len(sys.argv) != 3:\n        print("Usage: python make_shim.py <old_name> <new_target>")\n        sys.exit(1)\n    create_shim(sys.argv[1], sys.argv[2])\n
